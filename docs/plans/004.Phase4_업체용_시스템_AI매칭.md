# Phase 3: ì—…ì²´ìš© ì‹œìŠ¤í…œ + AI ë§¤ì¹­ (Week 5-6)

## Context

Phase 2ì—ì„œ ê³ ê°ìš© ê²¬ì  ì‹ ì²­ ì‹œìŠ¤í…œì´ ì™„ë£Œëœ ìƒíƒœì—ì„œ, ì´ì‚¬ì—…ì²´ê°€ ë§¤ì¹­ì„ ìˆ˜ì‹ í•˜ê³  ì‘ë‹µí•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ êµ¬í˜„í•œë‹¤. Rule-based ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ìµœì ì˜ ì—…ì²´ë¥¼ ìë™ ë°°ì •í•˜ê³ , ì‹¤ì‹œê°„ ì•Œë¦¼ìœ¼ë¡œ ë¹ ë¥¸ ì‘ë‹µì„ ìœ ë„í•œë‹¤.

**í•µì‹¬ ëª©í‘œ:**
- ì—…ì²´ íšŒì›ê°€ì… ë° í”„ë¡œí•„ ê´€ë¦¬
- ì—…ì²´ ëŒ€ì‹œë³´ë“œ (ë§¤ì¹­ ìˆ˜ì‹ /ì‘ë‹µ)
- Rule-based ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ v1
- SMS + Realtime ì•Œë¦¼ ì‹œìŠ¤í…œ
- ê³ ê° ë§¤ì¹­ ê²°ê³¼ ì•ˆë‚´

---

## Week 5: ì—…ì²´ ì‹œìŠ¤í…œ (Day 1-5)

### Day 1: ì—…ì²´ DB ìŠ¤í‚¤ë§ˆ ë° íƒ€ì… ì •ì˜

**íŒŒì¼: `src/types/company.ts`**
```typescript
export interface Company {
  id: string;
  userId: string;
  businessName: string;           // ìƒí˜¸ëª…
  businessNumber: string;         // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸
  representativeName: string;     // ëŒ€í‘œìëª…
  phone: string;                  // ì—°ë½ì²˜

  // ì„œë¹„ìŠ¤ ì •ë³´
  serviceRegions: string[];       // ì„œë¹„ìŠ¤ ì§€ì—­ (ì‹œ/êµ°/êµ¬)
  moveTypes: MoveType[];          // ì „ë¬¸ ë¶„ì•¼ (ìš©ë‹¬/ì¼ë°˜/ë°˜í¬ì¥/í¬ì¥/ë³´ê´€)
  vehicles: VehicleInfo[];        // ë³´ìœ  ì°¨ëŸ‰

  // ìš´ì˜ ì •ë³´
  availableDates: string[];       // ê°€ìš© ë‚ ì§œ
  maxDailyJobs: number;           // ì¼ì¼ ìµœëŒ€ ê±´ìˆ˜

  // í‰ê°€
  avgRating: number;              // í‰ê·  í‰ì 
  totalReviews: number;           // ì´ ë¦¬ë·° ìˆ˜
  completedJobs: number;          // ì™„ë£Œ ê±´ìˆ˜

  // ìƒíƒœ
  status: 'pending' | 'approved' | 'suspended';
  createdAt: string;
  updatedAt: string;
}

export interface VehicleInfo {
  type: '1t' | '2.5t' | '3.5t' | '5t' | '11t';
  count: number;
}
```

**íŒŒì¼: `src/types/matching.ts`**
```typescript
export interface Matching {
  id: string;
  estimateId: string;
  companyId: string;

  // ë§¤ì¹­ ì •ë³´
  matchScore: number;             // ë§¤ì¹­ ì ìˆ˜ (0-100)
  matchReason: MatchReason[];     // ë§¤ì¹­ ì´ìœ 
  priority: number;               // ë°°ì • ìˆœìœ„ (1=ìµœìš°ì„ )

  // ìƒíƒœ
  status: 'pending' | 'accepted' | 'rejected' | 'expired' | 'completed';
  expiresAt: string;              // ë§Œë£Œ ì‹œê°„ (30ë¶„)
  respondedAt?: string;

  // ê²¬ì  ì •ë³´ (ì—…ì²´ ì‘ë‹µ)
  quotedPrice?: number;           // ê²¬ì  ê¸ˆì•¡
  quotedMessage?: string;         // ê²¬ì  ë©”ì‹œì§€

  createdAt: string;
  updatedAt: string;
}

export interface MatchReason {
  factor: 'region' | 'moveType' | 'schedule' | 'vehicle' | 'rating';
  score: number;
  description: string;
}
```

**Supabase ë§ˆì´ê·¸ë ˆì´ì…˜:**
- `companies` í…Œì´ë¸” (Phase 1ì—ì„œ ìƒì„±ë¨, ì»¬ëŸ¼ ì¶”ê°€)
- `matchings` í…Œì´ë¸” ìƒì„±
- RLS ì •ì±… ì„¤ì •

---

### Day 2: ì—…ì²´ íšŒì›ê°€ì… í˜ì´ì§€

**íŒŒì¼: `src/app/(company)/register/page.tsx`**
- ì‚¬ì—…ì ë“±ë¡ì¦ ì—…ë¡œë“œ
- ê¸°ë³¸ ì •ë³´ ì…ë ¥ í¼
- ì„œë¹„ìŠ¤ ì§€ì—­ ë‹¤ì¤‘ ì„ íƒ
- ì „ë¬¸ ë¶„ì•¼ ì„ íƒ
- ë³´ìœ  ì°¨ëŸ‰ ë“±ë¡

**íŒŒì¼: `src/app/(company)/register/layout.tsx`**
- ê°€ì… ë‹¨ê³„ Progress í‘œì‹œ

**íŒŒì¼: `src/components/company/RegisterForm.tsx`**
```typescript
// 4ë‹¨ê³„ ê°€ì… í¼
// Step 1: ì‚¬ì—…ì ì •ë³´
// Step 2: ì„œë¹„ìŠ¤ ì§€ì—­ & ë¶„ì•¼
// Step 3: ì°¨ëŸ‰ ì •ë³´
// Step 4: ì•½ê´€ ë™ì˜ & ì œì¶œ
```

**íŒŒì¼: `src/components/company/RegionSelector.tsx`**
- ì‹œ/ë„ â†’ ì‹œ/êµ°/êµ¬ 2ë‹¨ê³„ ì„ íƒ
- ë‹¤ì¤‘ ì„ íƒ ì§€ì›

**íŒŒì¼: `src/components/company/VehicleInput.tsx`**
- ì°¨ëŸ‰ ì¢…ë¥˜ë³„ ëŒ€ìˆ˜ ì…ë ¥

---

### Day 3: ì—…ì²´ ëŒ€ì‹œë³´ë“œ

**íŒŒì¼: `src/app/(company)/dashboard/page.tsx`**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì˜¤ëŠ˜ì˜ í˜„í™©                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ì‹ ê·œ 3â”‚ â”‚ëŒ€ê¸° 2â”‚ â”‚ì§„í–‰ 1â”‚ â”‚ì™„ë£Œ 5â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìƒˆ ë§¤ì¹­ ìš”ì²­ (ì‘ë‹µ í•„ìš”)              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ê¹€OOë‹˜ | í¬ì¥ì´ì‚¬ | 2/15        â”‚ â”‚
â”‚ â”‚ ê°•ë‚¨êµ¬ â†’ ì†¡íŒŒêµ¬ | 25í‰          â”‚ â”‚
â”‚ â”‚ [ìƒì„¸ë³´ê¸°] [ìˆ˜ë½] [ê±°ì ˆ]         â”‚ â”‚
â”‚ â”‚ â° 28:45 ë‚¨ìŒ                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì§„í–‰ ì¤‘ì¸ ê±´                         â”‚
â”‚ â””â”€ (ëª©ë¡)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŒŒì¼: `src/app/(company)/dashboard/layout.tsx`**
- ì—…ì²´ìš© ì‚¬ì´ë“œë°”/í—¤ë”

**íŒŒì¼: `src/components/company/DashboardStats.tsx`**
- ì˜¤ëŠ˜ì˜ í˜„í™© ì¹´ë“œ

**íŒŒì¼: `src/components/company/MatchingCard.tsx`**
- ë§¤ì¹­ ìš”ì²­ ì¹´ë“œ (íƒ€ì´ë¨¸ í¬í•¨)

---

### Day 4: ë§¤ì¹­ ìƒì„¸ & ì‘ë‹µ í˜ì´ì§€

**íŒŒì¼: `src/app/(company)/matches/page.tsx`**
- ì „ì²´ ë§¤ì¹­ ëª©ë¡ (í•„í„°: ìƒíƒœë³„)
- í˜ì´ì§€ë„¤ì´ì…˜

**íŒŒì¼: `src/app/(company)/matches/[id]/page.tsx`**
- ë§¤ì¹­ ìƒì„¸ ì •ë³´
- ê³ ê° ìš”ì²­ ì‚¬í•­ ì „ì²´ í‘œì‹œ
- ìˆ˜ë½/ê±°ì ˆ ë²„íŠ¼
- ê²¬ì  ê¸ˆì•¡ ì…ë ¥ (ìˆ˜ë½ ì‹œ)

**íŒŒì¼: `src/components/company/MatchDetail.tsx`**
```typescript
// ê³ ê° schema_data ë Œë”ë§
// - ì´ì‚¬ ì •ë³´ (ë‚ ì§œ, í˜•íƒœ, ì‹œê°„)
// - ì¶œë°œì§€/ë„ì°©ì§€ ì •ë³´
// - ì§ ìƒì„¸
// - ë¶€ê°€ì„œë¹„ìŠ¤
// - ìš”ì²­ì‚¬í•­
```

**íŒŒì¼: `src/components/company/AcceptDialog.tsx`**
- ìˆ˜ë½ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
- ì˜ˆìƒ ê²¬ì  ê¸ˆì•¡ ì…ë ¥
- ë©”ì‹œì§€ ì…ë ¥ (ì„ íƒ)

**íŒŒì¼: `src/components/company/RejectDialog.tsx`**
- ê±°ì ˆ ì‚¬ìœ  ì„ íƒ
- ê¸°íƒ€ ì‚¬ìœ  ì…ë ¥

---

### Day 5: ì—…ì²´ í”„ë¡œí•„ ê´€ë¦¬

**íŒŒì¼: `src/app/(company)/profile/page.tsx`**
- ì—…ì²´ ì •ë³´ ìˆ˜ì •
- ì„œë¹„ìŠ¤ ì§€ì—­ ìˆ˜ì •
- ì°¨ëŸ‰ ì •ë³´ ìˆ˜ì •
- ì¼ì • ê´€ë¦¬ (ê°€ìš© ë‚ ì§œ)

**íŒŒì¼: `src/app/(company)/profile/schedule/page.tsx`**
- ìº˜ë¦°ë” ë·° ì¼ì • ê´€ë¦¬
- íœ´ë¬´ì¼/ê°€ìš©ì¼ í† ê¸€

**íŒŒì¼: `src/components/company/ScheduleCalendar.tsx`**
- ì›”ë³„ ìº˜ë¦°ë”
- ë‚ ì§œë³„ ê°€ìš© ì—¬ë¶€ ì„¤ì •

---

## Week 6: ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ & ì•Œë¦¼ (Day 6-10)

### Day 6: ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„

**íŒŒì¼: `src/lib/matching/algorithm.ts`**
```typescript
export interface MatchingCriteria {
  estimate: MovingSchema;
  companies: Company[];
}

export interface MatchResult {
  companyId: string;
  score: number;
  reasons: MatchReason[];
}

export function calculateMatchScore(
  estimate: MovingSchema,
  company: Company
): MatchResult {
  let score = 0;
  const reasons: MatchReason[] = [];

  // 1. ì§€ì—­ ë§¤ì¹­ (30%)
  const regionScore = calculateRegionScore(estimate, company);
  score += regionScore * 0.3;

  // 2. ì´ì‚¬ í˜•íƒœ (25%)
  const moveTypeScore = calculateMoveTypeScore(estimate, company);
  score += moveTypeScore * 0.25;

  // 3. ì¼ì • ê°€ìš©ì„± (20%)
  const scheduleScore = calculateScheduleScore(estimate, company);
  score += scheduleScore * 0.2;

  // 4. ì°¨ëŸ‰ ì í•©ì„± (15%)
  const vehicleScore = calculateVehicleScore(estimate, company);
  score += vehicleScore * 0.15;

  // 5. í‰ì  (10%)
  const ratingScore = company.avgRating / 5 * 100;
  score += ratingScore * 0.1;

  return { companyId: company.id, score, reasons };
}

export function findBestMatches(
  criteria: MatchingCriteria,
  limit: number = 3
): MatchResult[] {
  // í•„í„°ë§ â†’ ìŠ¤ì½”ì–´ë§ â†’ ì •ë ¬ â†’ ìƒìœ„ Nê°œ
}
```

**íŒŒì¼: `src/lib/matching/filters.ts`**
- ì§€ì—­ í•„í„° (ì¶œë°œì§€/ë„ì°©ì§€ ëª¨ë‘ ì»¤ë²„)
- ì´ì‚¬ í˜•íƒœ í•„í„°
- ì¼ì • í•„í„°

**íŒŒì¼: `src/lib/matching/scorers.ts`**
- ê° ìš”ì†Œë³„ ì ìˆ˜ ê³„ì‚° í•¨ìˆ˜

---

### Day 7: ë§¤ì¹­ API & íŠ¸ë¦¬ê±°

**íŒŒì¼: `src/app/api/matching/create/route.ts`**
- ê²¬ì  ì œì¶œ ì‹œ ë§¤ì¹­ ìƒì„±
- ìµœì  ì—…ì²´ 1ê³³ ìë™ ë°°ì •
- matchings í…Œì´ë¸” ìƒì„±

**íŒŒì¼: `src/app/api/matching/respond/route.ts`**
- ì—…ì²´ ìˆ˜ë½/ê±°ì ˆ ì²˜ë¦¬
- ìˆ˜ë½: ê³ ê°ì—ê²Œ ì•Œë¦¼
- ê±°ì ˆ/ë§Œë£Œ: ì°¨ìˆœìœ„ ì—…ì²´ ì¬ë°°ì •

**íŒŒì¼: `src/app/api/matching/timeout/route.ts`**
- 30ë¶„ íƒ€ì„ì•„ì›ƒ ì²´í¬
- Vercel Cron ë˜ëŠ” Supabase pg_cron

**Supabase Function (ì„ íƒ):**
```sql
-- ê²¬ì  ì œì¶œ ì‹œ ìë™ ë§¤ì¹­ íŠ¸ë¦¬ê±°
CREATE OR REPLACE FUNCTION handle_estimate_submitted()
RETURNS TRIGGER AS $$
BEGIN
  -- Edge Function í˜¸ì¶œ ë˜ëŠ” ì§ì ‘ ë§¤ì¹­ ë¡œì§
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

---

### Day 8: ì•Œë¦¼ ì‹œìŠ¤í…œ

**íŒŒì¼: `src/lib/notification/sms.ts`**
```typescript
export async function sendMatchingNotification(
  companyPhone: string,
  estimateInfo: { date: string; region: string; type: string }
): Promise<void> {
  // Solapi SMS ë°œì†¡
  // "[ì´ì‚¬ë§¤ì¹­] ìƒˆ ë§¤ì¹­ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤. 30ë¶„ ë‚´ ì‘ë‹µí•´ì£¼ì„¸ìš”."
}

export async function sendMatchResultToCustomer(
  customerPhone: string,
  companyInfo: { name: string; phone: string }
): Promise<void> {
  // "[ì´ì‚¬ë§¤ì¹­] ë§¤ì¹­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. OOì—…ì²´ì—ì„œ ì—°ë½ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤."
}
```

**íŒŒì¼: `src/lib/notification/realtime.ts`**
```typescript
// Supabase Realtime ì±„ë„
export function subscribeToCompanyMatches(
  companyId: string,
  onNewMatch: (matching: Matching) => void
): RealtimeChannel {
  return supabase
    .channel(`company:${companyId}`)
    .on('postgres_changes', {
      event: 'INSERT',
      schema: 'public',
      table: 'matchings',
      filter: `company_id=eq.${companyId}`
    }, onNewMatch)
    .subscribe();
}

export function subscribeToEstimateStatus(
  estimateId: string,
  onStatusChange: (status: string) => void
): RealtimeChannel;
```

**íŒŒì¼: `src/app/api/notification/send/route.ts`**
- ì•Œë¦¼ ë°œì†¡ API

---

### Day 9: ê³ ê° ê²°ê³¼ í˜ì´ì§€

**íŒŒì¼: `src/app/(customer)/estimate/result/[id]/page.tsx`**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë§¤ì¹­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! âœ“            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë°°ì •ëœ ì—…ì²´                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ¢ OOì´ì‚¬ (í¬ì¥ì´ì‚¬ ì „ë¬¸)       â”‚ â”‚
â”‚ â”‚ â­ 4.8 (ë¦¬ë·° 127ê°œ)             â”‚ â”‚
â”‚ â”‚ ğŸ“ 010-XXXX-XXXX               â”‚ â”‚
â”‚ â”‚ ğŸ’° ì˜ˆìƒ ê²¬ì : 45~55ë§Œì›         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìš”ì²­ ì •ë³´ ìš”ì•½                       â”‚
â”‚ - ì´ì‚¬ì¼: 2026.02.15 ì˜¤ì „           â”‚
â”‚ - ì¶œë°œ: ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 5ì¸µ            â”‚
â”‚ - ë„ì°©: ì†¡íŒŒêµ¬ ì ì‹¤ë™ 12ì¸µ           â”‚
â”‚ - í˜•íƒœ: í¬ì¥ì´ì‚¬                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± ì—…ì²´ì—ì„œ ê³§ ì—°ë½ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤   â”‚
â”‚ [ë‚´ ì‹ ì²­ ë‚´ì—­ ë³´ê¸°]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŒŒì¼: `src/app/(customer)/mypage/page.tsx`**
- ì‹ ì²­ ì´ë ¥ ëª©ë¡
- ì§„í–‰ ìƒíƒœ í‘œì‹œ

**íŒŒì¼: `src/app/(customer)/mypage/[id]/page.tsx`**
- ì‹ ì²­ ìƒì„¸ (=ê²°ê³¼ í˜ì´ì§€ì™€ ìœ ì‚¬)
- ìƒíƒœë³„ ë‹¤ë¥¸ UI

---

### Day 10: í†µí•© í…ŒìŠ¤íŠ¸ & ë§ˆë¬´ë¦¬

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:**
1. ì—…ì²´ ê°€ì… â†’ ìŠ¹ì¸ â†’ ë¡œê·¸ì¸
2. ê³ ê° ê²¬ì  ì œì¶œ â†’ ë§¤ì¹­ ìƒì„±
3. ì—…ì²´ ëŒ€ì‹œë³´ë“œì— ë§¤ì¹­ í‘œì‹œ (Realtime)
4. ì—…ì²´ ìˆ˜ë½ â†’ ê³ ê° ê²°ê³¼ í˜ì´ì§€
5. ì—…ì²´ ê±°ì ˆ â†’ ì°¨ìˆœìœ„ ì¬ë°°ì •
6. íƒ€ì„ì•„ì›ƒ â†’ ìë™ ì¬ë°°ì •

**ë²„ê·¸ ìˆ˜ì • & ìµœì í™”:**
- ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ íŠœë‹
- UI/UX ê°œì„ 
- ì—ëŸ¬ í•¸ë“¤ë§

---

## ìƒì„±í•  íŒŒì¼ ëª©ë¡ (ìš°ì„ ìˆœìœ„ ìˆœ)

### Week 5

| # | íŒŒì¼ | ì˜ì¡´ì„± |
|---|------|--------|
| 1 | `src/types/company.ts` | - |
| 2 | `src/types/matching.ts` | - |
| 3 | `supabase/migrations/xxx_companies_update.sql` | - |
| 4 | `supabase/migrations/xxx_matchings.sql` | - |
| 5 | `src/app/(company)/register/page.tsx` | - |
| 6 | `src/components/company/RegisterForm.tsx` | - |
| 7 | `src/components/company/RegionSelector.tsx` | - |
| 8 | `src/components/company/VehicleInput.tsx` | - |
| 9 | `src/app/(company)/dashboard/page.tsx` | - |
| 10 | `src/app/(company)/dashboard/layout.tsx` | - |
| 11 | `src/components/company/DashboardStats.tsx` | - |
| 12 | `src/components/company/MatchingCard.tsx` | matching.ts |
| 13 | `src/app/(company)/matches/page.tsx` | - |
| 14 | `src/app/(company)/matches/[id]/page.tsx` | - |
| 15 | `src/components/company/MatchDetail.tsx` | schema.ts |
| 16 | `src/components/company/AcceptDialog.tsx` | - |
| 17 | `src/components/company/RejectDialog.tsx` | - |
| 18 | `src/app/(company)/profile/page.tsx` | - |
| 19 | `src/app/(company)/profile/schedule/page.tsx` | - |
| 20 | `src/components/company/ScheduleCalendar.tsx` | - |

### Week 6

| # | íŒŒì¼ | ì˜ì¡´ì„± |
|---|------|--------|
| 21 | `src/lib/matching/algorithm.ts` | company.ts, schema.ts |
| 22 | `src/lib/matching/filters.ts` | - |
| 23 | `src/lib/matching/scorers.ts` | - |
| 24 | `src/app/api/matching/create/route.ts` | algorithm.ts |
| 25 | `src/app/api/matching/respond/route.ts` | - |
| 26 | `src/app/api/matching/timeout/route.ts` | - |
| 27 | `src/lib/notification/sms.ts` | - |
| 28 | `src/lib/notification/realtime.ts` | - |
| 29 | `src/app/api/notification/send/route.ts` | sms.ts |
| 30 | `src/app/(customer)/estimate/result/[id]/page.tsx` | - |
| 31 | `src/app/(customer)/mypage/page.tsx` | - |
| 32 | `src/app/(customer)/mypage/[id]/page.tsx` | - |
| 33 | `src/stores/companyStore.ts` | company.ts |
| 34 | `src/stores/matchingStore.ts` | matching.ts |

---

## í™˜ê²½ ë³€ìˆ˜ (ì¶”ê°€ í•„ìš” ì—†ìŒ)

Phase 1-2ì—ì„œ ì„¤ì • ì™„ë£Œ:
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `SOLAPI_API_KEY`, `SOLAPI_API_SECRET`, `SOLAPI_SENDER`

---

## ê²€ì¦ ë°©ë²•

### Week 5 ì™„ë£Œ ê¸°ì¤€
- [ ] ì—…ì²´ íšŒì›ê°€ì… â†’ Supabase companies ì €ì¥
- [ ] ì—…ì²´ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ (ì—­í•  ì²´í¬)
- [ ] ë§¤ì¹­ ì¹´ë“œ ë Œë”ë§ (íƒ€ì´ë¨¸ ì‘ë™)
- [ ] ìˆ˜ë½/ê±°ì ˆ ë‹¤ì´ì–¼ë¡œê·¸ ì‘ë™
- [ ] í”„ë¡œí•„ ìˆ˜ì • ì €ì¥

### Week 6 ì™„ë£Œ ê¸°ì¤€
- [ ] ë§¤ì¹­ ì ìˆ˜ ê³„ì‚° ì •í™•ì„±
- [ ] ê²¬ì  ì œì¶œ â†’ ìµœì  ì—…ì²´ ìë™ ë°°ì •
- [ ] ì—…ì²´ ìˆ˜ë½ â†’ ê³ ê° SMS ë°œì†¡
- [ ] 30ë¶„ íƒ€ì„ì•„ì›ƒ â†’ ì°¨ìˆœìœ„ ì¬ë°°ì •
- [ ] Realtime ë§¤ì¹­ ì•Œë¦¼ ìˆ˜ì‹ 
- [ ] ê³ ê° ê²°ê³¼ í˜ì´ì§€ ì •ìƒ í‘œì‹œ

```bash
npm run dev
# ì—…ì²´: http://localhost:3000/company/register
# ì—…ì²´ ëŒ€ì‹œë³´ë“œ: http://localhost:3000/company/dashboard
# ê³ ê° ê²°ê³¼: http://localhost:3000/estimate/result/[id]
```

---

## ì°¸ê³  ë¬¸ì„œ

- `docs/plans/001.í”„ë¡œì íŠ¸_êµ¬í˜„_ë¡œë“œë§µ.md` (Phase 3 ì„¹ì…˜)
- `docs/structure/ì´ì‚¿ì§_í”Œë«í¼_Input_Schema_v2.1.md`
- `docs/worklogs/002.Phase2_ê³ ê°ìš©_ê²¬ì ì‹ ì²­_ì‹œìŠ¤í…œ.md`
